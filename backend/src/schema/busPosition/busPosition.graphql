"""
Enum for bus direction
"""
enum BusDirection {
    """
    Inbound (going towards downtown)
    """
    INBOUND

    """
    Outbound (going away from downtown)
    """
    OUTBOUND
}

"""
Represents a real-time bus position on the AC Transit network
"""
type BusPosition {
    """
    Unique identifier for the vehicle
    """
    vehicleId: String!

    """
    Route identifier (e.g., "51B")
    """
    routeId: String!

    """
    Current latitude position of the bus
    """
    latitude: Float!

    """
    Current longitude position of the bus
    """
    longitude: Float!

    """
    Compass heading in degrees (0-360)
    """
    heading: Float

    """
    Current speed in meters per second
    """
    speed: Float

    """
    DateTime when this position was recorded
    """
    timestamp: DateTime!

    """
    Trip identifier from GTFS
    """
    tripId: String

    """
    Current stop sequence in the trip
    Note: Only available when using GTFS-Realtime data source
    """
    stopSequence: Int
}

extend type Query {
    """
    Get current positions of all buses for a specific route
    """
    busPositions(
        """
        Route ID to filter by (e.g., "51B")
        """
        routeId: String!

        """
        Data source to fetch predictions from (ACT_REALTIME or GTFS_REALTIME). Defaults to ACT_REALTIME.
        """
        source: DataSource = ACT_REALTIME
    ): [BusPosition!]!
}

extend type Subscription {
    """
    Subscribe to real-time bus position updates for a specific route
    """
    busPositions(
        """
        Route ID to filter by (e.g., "51B")
        """
        routeId: String!

        """
        Data source to fetch predictions from (ACT_REALTIME or GTFS_REALTIME). Defaults to ACT_REALTIME.
        """
        source: DataSource = ACT_REALTIME
    ): [BusPosition!]!
}
